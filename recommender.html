<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Readify â€” Recommender</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <header class="header">
    <div class="container">
      <div class="brand">
        <div style="width:46px;height:46px;border-radius:8px;background:linear-gradient(90deg,#7e57c2,#5e35b1);display:flex;align-items:center;justify-content:center;color:white;font-weight:700">R</div>
        <div>
          <h1>Readify</h1>
          <p>Find the perfect next read</p>
        </div>
      </div>
      <nav class="nav">
        <a href="index.html">HomeğŸ§ </a>
        <a href="book-explorer.html">ExploreğŸ“Š</a>
        <a href="progress.html">ProgressğŸ“†</a>
        <a href="recommender.html">RecommenderğŸ”‘</a>
        <a href="reading-flow.html">Reading FlowğŸ“•ğŸ“™</a>
        <a href="feedback.html">FeedbackğŸ“¥</a>
      </nav>
      <button class="hamburger" aria-label="menu"><span></span><span></span><span></span></button>
    </div>
    <div class="nav-bar"><div class="nav-progress" style="width:0%" title="0%"></div></div>
  </header>

  <main class="container" style="padding-top:18px">
    <h2>ğŸ² Random Book Recommender</h2>
    <p>Feeling indecisive? Let us surprise you with personalized book recommendations based on your preferences. Select a genre and length, and discover books you might never have considered. Build your reading list and track your favorites!</p>
    <div class="card" style="margin-top:12px">
      <div class="form-row">
        <select id="recGenre" class="input"></select>
        <select id="recLength" class="input"></select>
        <button id="recPick">âœ¨ Recommend</button>
        <button id="recPickAgain" class="secondary">ğŸ”„ Pick Again</button>
      </div>
      <div id="recResult" style="margin-top:12px"></div>
      <div style="display:flex;gap:10px;margin-top:12px">
        <button id="saveRec">ğŸ’¾ Save</button>
        <button id="viewList" class="secondary">ğŸ“š View reading list</button>
      </div>
      <div id="readingListSummary" style="margin-top:8px" class="small-muted"></div>
      <div id="readingList" style="margin-top:12px" class="small-muted"></div>
    </div>

    <div class="card" style="margin-top:20px">
      <h3>â­ Favorite Genres</h3>
      <div id="favoriteGenres" class="small-muted">Based on your recommendations...</div>
    </div>

    <div class="card" style="margin-top:20px">
      <img src="assets/photo-1506880018603-83d5b814b5a6.jpg" alt="Book collection" class="recommender-image">
    </div>

    <div class="card" style="margin-top:20px">
      <img src="assets/photo-1630343710506-89f8b9f21d31.jpg" alt="Reading scene" class="recommender-image">
    </div>

    <div class="card" style="margin-top:20px">
      <img src="assets/pile-of-books-7.jpg" alt="Pile of books" class="recommender-image">
    </div>
  </main>

  <footer class="footer">
    <div class="container">
      <div style="display:flex;justify-content:space-between;gap:8px;flex-wrap:wrap;align-items:center">
        <div>
          <div style="font-weight:700">Readify</div>
          <div class="small-muted">Random picks for you</div>
        </div>
        <div class="small-muted">Â© Readify 2025</div>
      </div>
    </div>
  </footer>

  <script src="js/app.js"></script>
  <script>
    // Show reading list
    document.querySelector('#viewList')?.addEventListener('click', ()=>{
      const container = document.getElementById('readingList'); const list = JSON.parse(localStorage.getItem('readify-list')||'[]'); if(!list.length){ container.textContent='No saved items.'; return; }
      const books = JSON.parse(localStorage.getItem('readify-books')||'null'); // not set, so we use Readify.books
      const withData = list.map(id => Readify.books.find(b => b.id === id)).filter(Boolean);
      container.innerHTML = withData.map(b=>`${b.title} â€” ${b.author}`).join('<br>');
    });
  </script>
  <script src="js/recommender.extra.js"></script>
</body>
</html>